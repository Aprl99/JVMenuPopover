<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>JVMenuPopover by JV17</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>JVMenuPopover</h1>
        <h2>Simple popover menu in Objective-C</h2>
        <a href="https://github.com/JV17/JVMenuPopover" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="jvmenupopover---" class="anchor" href="#jvmenupopover---" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JVMenuPopover <a href="http://cocoadocs.org/docsets/JVMenuPopover"><img src="https://img.shields.io/cocoapods/v/JVMenuPopover.svg?style=flat" alt="Version"></a> <a href="http://cocoadocs.org/docsets/JVMenuPopover"><img src="https://img.shields.io/cocoapods/l/JVMenuPopover.svg?style=flat" alt="License"></a> <a href="http://cocoadocs.org/docsets/JVMenuPopover"><img src="https://img.shields.io/cocoapods/p/JVMenuPopover.svg?style=flat" alt="Platform"></a>
</h1>

<p>This is a simple menu controller where I tried to simulate the native iOS animation of switching between apps. It can be used in many different ways and you can also customize it to use your own animations.</p>

<h2>
<a id="previews" class="anchor" href="#previews" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Previews</h2>

<h6>
<a id="-menu-with-slideinwithbounceanimation" class="anchor" href="#-menu-with-slideinwithbounceanimation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>• Menu with slideInWithBounceAnimation</h6>

<p><a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=ySgPzJJSCAg?autoplay=1"><img src="Previews/jvmenu.preview1.gif" alt="screenshot-1"></a></p>

<h6>
<a id="-menu-with-slideinanimation" class="anchor" href="#-menu-with-slideinanimation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>• Menu with slideInAnimation</h6>

<p><a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=2MG6kVMMuTo?autoplay=1"><img src="Previews/jvmenu.preview2.gif" alt="screenshot-1"></a></p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<p>Developed and tested using iOS8+</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>JVMenuPopover is available through <a href="http://cocoapods.org">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>

<pre><code>pod "JVMenuPopover"
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>To run the example project, clone the repo, and run <code>pod install</code> from the Example directory first.</p>

<p>Using JVMenuPopover with your own project.</p>

<ul>
<li>
<p>In your function <code>application: didFinishLaunchingWithOptions:</code> we need to setup our <code>UIWindow</code>, <code>JVMenuNavigationController</code> and your root view controller. Feel free to follow my project sample implementation where I use lazy intialization for these objects. </p>

<ul>
<li>Also, it's important to set a background image to our <code>UIWindow</code> to be able to achieve the our menu effect with a background image.</li>
</ul>
</li>
</ul>

<div class="highlight highlight-source-objc"><pre>- (<span class="pl-k">BOOL</span>)application:(UIApplication *)application didFinishLaunchingWithOptions:(<span class="pl-c1">NSDictionary</span> *)launchOptions
{
    <span class="pl-c">// setting up app window</span>
    [<span class="pl-v">self</span> <span class="pl-c1">setupCustomWindow</span>];

    <span class="pl-k">return</span> <span class="pl-c1">YES</span>;
}

#<span class="pl-k">pragma mark</span> - Custom Accessors

- (JVMenuRootViewController *)rootViewController
{
    <span class="pl-k">if</span> (!_rootViewController)
    {
        _rootViewController = [[JVMenuRootViewController <span class="pl-c1">alloc</span>] <span class="pl-c1">init</span>];
    }

    <span class="pl-k">return</span> _rootViewController;
}


- (JVMenuNavigationController *)navigationController
{
    <span class="pl-k">if</span> (!_navigationController)
    {
        _navigationController = [[JVMenuNavigationController <span class="pl-c1">alloc</span>] <span class="pl-c1">initWithRootViewController:</span><span class="pl-v">self</span>.rootViewController <span class="pl-c1">transparentNavBar:</span><span class="pl-c1">YES</span>];
    }

    <span class="pl-k">return</span> _navigationController;
}


#<span class="pl-k">pragma mark</span> - UIWindow Customization

- (<span class="pl-k">void</span>)setupCustomWindow
{
    self.<span class="pl-smi">window</span> = [[UIWindow <span class="pl-c1">alloc</span>] <span class="pl-c1">init</span>];
    self.<span class="pl-smi">window</span>.<span class="pl-smi">rootViewController</span> = self.<span class="pl-smi">navigationController</span>;
    self.<span class="pl-smi">window</span>.<span class="pl-smi">backgroundColor</span> = [UIColor <span class="pl-c1">colorWithPatternImage:</span>[[UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>app_bg1.jpg<span class="pl-pds">"</span></span>] <span class="pl-c1">imageScaledToWidth:</span><span class="pl-v">self</span>.window.frame.size.width]];

    [<span class="pl-v">self</span>.window <span class="pl-c1">makeKeyAndVisible</span>];
    [<span class="pl-v">self</span>.window <span class="pl-c1">addSubview:</span><span class="pl-v">self</span>.navigationController.view];
}</pre></div>

<ul>
<li>Then, in your rootController we need to set our data model for our menu using the class <code>JVMenuItems</code> which holds all the menu images, titles and the close button image to display. Also, we can set our preferred menu animation. And we need to create the <code>JVMenuPopoverView</code> which is the actual menu with the menu items. Note: The same approach here the use of lazy intialization.</li>
</ul>

<div class="highlight highlight-source-objc"><pre>- (JVMenuItems *)menuItems
{
    <span class="pl-k">if</span>(!_menuItems)
    {
        _menuItems = [[JVMenuItems <span class="pl-c1">alloc</span>] <span class="pl-c1">initWithMenuImages:</span>@[[UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>home-48<span class="pl-pds">"</span></span>],
                                                               [UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>about-48<span class="pl-pds">"</span></span>],
                                                               [UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>settings-48<span class="pl-pds">"</span></span>],
                                                               [UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>business_contact-48<span class="pl-pds">"</span></span>],
                                                               [UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>ask_question-48<span class="pl-pds">"</span></span>]]
                                                  <span class="pl-c1">menuTitles:</span>@[<span class="pl-s"><span class="pl-pds">@"</span>Home<span class="pl-pds">"</span></span>,
                                                               <span class="pl-s"><span class="pl-pds">@"</span>About Us<span class="pl-pds">"</span></span>,
                                                               <span class="pl-s"><span class="pl-pds">@"</span>Our Service<span class="pl-pds">"</span></span>,
                                                               <span class="pl-s"><span class="pl-pds">@"</span>Contact Us<span class="pl-pds">"</span></span>,
                                                               <span class="pl-s"><span class="pl-pds">@"</span>Help?<span class="pl-pds">"</span></span>]
                                         <span class="pl-c1">menuCloseButtonImage:</span>[UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>cancel_filled-50<span class="pl-pds">"</span></span>]];
        _menuItems.<span class="pl-smi">menuSlideInAnimation</span> = <span class="pl-c1">YES</span>; 
    }

    <span class="pl-k">return</span> _menuItems;
}

- (JVMenuPopoverView *)menuPopover
{
    <span class="pl-k">if</span>(!_menuPopover)
    {
        _menuPopover = [[JVMenuPopoverView <span class="pl-c1">alloc</span>] <span class="pl-c1">initWithFrame:</span><span class="pl-v">self</span>.view.frame <span class="pl-c1">menuItems:</span><span class="pl-v">self</span>.menuItems];
        _menuPopover.<span class="pl-smi">backgroundColor</span> = [[UIColor <span class="pl-c1">blackColor</span>] <span class="pl-c1">colorWithAlphaComponent:</span><span class="pl-c1">0.5</span>];
        _menuPopover.<span class="pl-smi">delegate</span> = self;
    }

    <span class="pl-k">return</span> _menuPopover;
}</pre></div>

<ul>
<li>Then, we need to set our menu bar button with our preferred image and set the target to show the menu.</li>
</ul>

<div class="highlight highlight-source-objc"><pre>- (<span class="pl-k">void</span>)viewDidLoad
{
    [<span class="pl-v">super</span> <span class="pl-c1">viewDidLoad</span>];

    <span class="pl-c">// creating menu</span>
    self.<span class="pl-smi">menuPopover</span> = [<span class="pl-v">self</span> <span class="pl-c1">menuPopover</span>];

    <span class="pl-c">// setting up menu bar button</span>
    self.<span class="pl-smi">navigationItem</span>.<span class="pl-smi">leftBarButtonItem</span> = [[UIBarButtonItem <span class="pl-c1">alloc</span>] <span class="pl-c1">initWithImage:</span>[UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>menu_black-48<span class="pl-pds">"</span></span>] <span class="pl-c1">style:</span>UIBarButtonItemStylePlain <span class="pl-c1">target:</span><span class="pl-v">self</span> <span class="pl-c1">action:</span><span class="pl-k">@selector</span>(<span class="pl-c1">showMenu</span>)];
    self.<span class="pl-smi">navigationItem</span>.<span class="pl-smi">leftBarButtonItem</span>.<span class="pl-smi">tintColor</span> = [UIColor <span class="pl-c1">blackColor</span>];
}</pre></div>

<ul>
<li>Finally, we set our menu bar button to target to call the <code>JVMenuPopoverView</code> helper function and our menu delegate to know which menu item was selected by the user and present a new view controller or whatever you would like to then. <strong>Note:</strong> after iOS 9, we can't no longer present self on our rootController so, you might need to either have a property for the rootController and use that instead.<br>
</li>
</ul>

<div class="highlight highlight-source-objc"><pre>#<span class="pl-k">pragma mark</span> - Menu Helper Functions

- (<span class="pl-k">void</span>)showMenu
{
    [<span class="pl-v">self</span>.menuPopover <span class="pl-c1">showMenuWithController:</span><span class="pl-v">self</span>];
}


#<span class="pl-k">pragma mark</span> - Menu Delegate

- (<span class="pl-k">void</span>)menuPopoverDidSelectViewControllerAtIndexPath:(<span class="pl-c1">NSIndexPath</span> *)indexPath
{
    <span class="pl-k">if</span>(indexPath.<span class="pl-smi">row</span> == <span class="pl-c1">0</span>)
    {
        [<span class="pl-v">self</span>.navigationController <span class="pl-c1">setViewControllers:</span>@[<span class="pl-v">self</span>.rootController]; <span class="pl-c">// this is a temporary fix for the issue on iOS 9 not able to set 'self' as the current view controller</span>
    }
    <span class="pl-k">else</span> <span class="pl-k">if</span>(indexPath.row == <span class="pl-c1">1</span>)
    {
        [<span class="pl-v">self</span>.navigationController <span class="pl-c1">setViewControllers:</span>@[<span class="pl-v">self</span>.secondController]];
    }
}</pre></div>

<h2>
<a id="author--support" class="anchor" href="#author--support" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Author &amp; Support</h2>

<p>Contact me if you find any bugs or potential room for improvements, which I am sure there are. Jorge Valbuena (<a href="https://github.com/JV17" class="user-mention">@JV17</a>), <a href="mailto:jorge.valbuena@jorgedeveloper.com">jorge.valbuena@jorgedeveloper.com</a>. BTW! You are welcome to help in supporting this pod or making improvements to it.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>JVMenuPopover is available under the MIT license. See the LICENSE file for more info.</p>

<h2>
<a id="release-notes" class="anchor" href="#release-notes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Release Notes</h2>

<h4>
<a id="version-14" class="anchor" href="#version-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.4</h4>

<ul>
<li>Improved landscape support. Now the menu closes prior rotation to avoid image size issues.</li>
<li>Added new delegates to Menu view to know when the menu view will show or hide.</li>
<li>Added new property to the Menu view which indicates if the view hidden or not.</li>
<li>Added optional functions on the rootController which hides &amp; shows the navigationItem button (menu button), please sample project for this.</li>
</ul>

<h4>
<a id="version-13" class="anchor" href="#version-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.3</h4>

<ul>
<li>Added landscape support. Please be advise that you might need to provide a bigger image allow the background to show properly.</li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/JV17/JVMenuPopover/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/JV17/JVMenuPopover/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/JV17/JVMenuPopover"></a> is maintained by <a href="https://github.com/JV17">JV17</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
